{"uid":"628b980490b46690","name":"test_add_businessman[positive_password-positive_name]","fullName":"tests.test_add_businessman#test_add_businessman","historyId":"f6732fa090042f817793b0d0e5c44671","time":{"start":1730314742745,"stop":1730314779577,"duration":36832},"status":"failed","statusMessage":"AssertionError: Ошибка, название страницы не совпадает\nassert '' == 'Иван Петрович'\n  - Иван Петрович","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d52844df230f62edbd68a031bddb88b8\")>, name = 'sf1@gmail.com', password = '111'\n\n    @allure.feature('add_businessman')\n    @allure.story(\"Добавление нового ИП в разделе 'клиенты'\")\n    @pytest.mark.parametrize('name', [name_user], ids=[\"positive_name\"])\n    @pytest.mark.parametrize('password', [psw_user], ids=[\"positive_password\"])\n    def test_add_businessman(driver, name, password):\n    \n        # Авторизация в системе с валидными данными\n        with allure.step(\"Авторизация в системе\"):\n            page = AuthPage(driver)\n            page.name.send_keys(name)\n            page.password.send_keys(password)\n            page.btn_input.click()\n            catalog_title = page.title.get_text()\n    \n        # Проверка, что авторизация прошла успешно\n        with allure.step(\"Проверка авторизации\"):\n            assert page.get_current_url() == \"https://sf.leadupcrm.pro/service/clients\", 'Ошибка, URL не совпадают'\n            print('\\n', \"URL корректа\")\n            assert catalog_title == 'Клиенты', 'Название раздела не совпадает'\n            print(catalog_title, '== Клиенты')\n            print(\"Авторизация прошла успешно\")\n    \n        #Создание нового юридического лица\n        with allure.step(\"Открытие формы для создания нового ИП.\"):\n            page.btn_plus.click()\n            page.btn_icon_businessman.click()\n            current_form_title = page.form_title.get_text()\n        with allure.step(\"Проверка, что форма для создания нового ИП открылась.\"):\n            print([current_form_title])\n            assert current_form_title == 'Новый индивидуальный предприниматель', 'Ошибка, название формы не совпадает'\n        with allure.step(\"Добавление данных в форму.\"):\n            page.btn_manually.click()\n            page.fio_field.click()\n            page.fio_field.send_keys('Симонов Петр Иванович')\n            page.short_name.click()\n            page.short_name.send_keys('Симонов П. И.')\n            page.inn_payment_account.click()\n            page.inn_payment_account.send_keys('466806489800')\n            page.ogrn_payment_account.click()\n            page.ogrn_payment_account.send_keys('346545767657889')\n    \n        main_tab = driver.current_window_handle\n        print(main_tab)\n        with allure.step(\"Сохранение добавленных данных.\"):\n            page.btn_save.click()\n            page.wait_page_loaded(5)\n            page.fio_field.highlight_and_make_screenshot(\"../screen/add_businessman_screen1.png\")\n            list_of_tabs = driver.window_handles\n            print(list_of_tabs)\n            second_tab = driver.current_window_handle\n            print(second_tab)\n            # driver.switch_to.window(list_of_tabs[1])  # Подставит дескриптор по индексу 1, т.е второй элемент списка\n    \n        with allure.step(\"Проверка, что данные в открытой вкладке, принадлежат добавленному клиенту.\"):\n            #page.title_page.highlight_and_make_screenshot(\"../screen/add_businessman_screen2.png\")\n            get_title_page = page.title_page.get_text()\n            #print(get_title_page, 0)\n>           assert get_title_page == 'Иван Петрович', 'Ошибка, название страницы не совпадает'\nE           AssertionError: Ошибка, название страницы не совпадает\nE           assert '' == 'Иван Петрович'\nE             - Иван Петрович\n\ntests\\test_add_businessman.py:64: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1730314738720,"stop":1730314738720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"driver","time":{"start":1730314738721,"stop":1730314742743,"duration":4022},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"_skip_sensitive","time":{"start":1730314738721,"stop":1730314738721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"sensitive_url","time":{"start":1730314738721,"stop":1730314738721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1730314738721,"stop":1730314738721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Ошибка, название страницы не совпадает\nassert '' == 'Иван Петрович'\n  - Иван Петрович","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d52844df230f62edbd68a031bddb88b8\")>, name = 'sf1@gmail.com', password = '111'\n\n    @allure.feature('add_businessman')\n    @allure.story(\"Добавление нового ИП в разделе 'клиенты'\")\n    @pytest.mark.parametrize('name', [name_user], ids=[\"positive_name\"])\n    @pytest.mark.parametrize('password', [psw_user], ids=[\"positive_password\"])\n    def test_add_businessman(driver, name, password):\n    \n        # Авторизация в системе с валидными данными\n        with allure.step(\"Авторизация в системе\"):\n            page = AuthPage(driver)\n            page.name.send_keys(name)\n            page.password.send_keys(password)\n            page.btn_input.click()\n            catalog_title = page.title.get_text()\n    \n        # Проверка, что авторизация прошла успешно\n        with allure.step(\"Проверка авторизации\"):\n            assert page.get_current_url() == \"https://sf.leadupcrm.pro/service/clients\", 'Ошибка, URL не совпадают'\n            print('\\n', \"URL корректа\")\n            assert catalog_title == 'Клиенты', 'Название раздела не совпадает'\n            print(catalog_title, '== Клиенты')\n            print(\"Авторизация прошла успешно\")\n    \n        #Создание нового юридического лица\n        with allure.step(\"Открытие формы для создания нового ИП.\"):\n            page.btn_plus.click()\n            page.btn_icon_businessman.click()\n            current_form_title = page.form_title.get_text()\n        with allure.step(\"Проверка, что форма для создания нового ИП открылась.\"):\n            print([current_form_title])\n            assert current_form_title == 'Новый индивидуальный предприниматель', 'Ошибка, название формы не совпадает'\n        with allure.step(\"Добавление данных в форму.\"):\n            page.btn_manually.click()\n            page.fio_field.click()\n            page.fio_field.send_keys('Симонов Петр Иванович')\n            page.short_name.click()\n            page.short_name.send_keys('Симонов П. И.')\n            page.inn_payment_account.click()\n            page.inn_payment_account.send_keys('466806489800')\n            page.ogrn_payment_account.click()\n            page.ogrn_payment_account.send_keys('346545767657889')\n    \n        main_tab = driver.current_window_handle\n        print(main_tab)\n        with allure.step(\"Сохранение добавленных данных.\"):\n            page.btn_save.click()\n            page.wait_page_loaded(5)\n            page.fio_field.highlight_and_make_screenshot(\"../screen/add_businessman_screen1.png\")\n            list_of_tabs = driver.window_handles\n            print(list_of_tabs)\n            second_tab = driver.current_window_handle\n            print(second_tab)\n            # driver.switch_to.window(list_of_tabs[1])  # Подставит дескриптор по индексу 1, т.е второй элемент списка\n    \n        with allure.step(\"Проверка, что данные в открытой вкладке, принадлежат добавленному клиенту.\"):\n            #page.title_page.highlight_and_make_screenshot(\"../screen/add_businessman_screen2.png\")\n            get_title_page = page.title_page.get_text()\n            #print(get_title_page, 0)\n>           assert get_title_page == 'Иван Петрович', 'Ошибка, название страницы не совпадает'\nE           AssertionError: Ошибка, название страницы не совпадает\nE           assert '' == 'Иван Петрович'\nE             - Иван Петрович\n\ntests\\test_add_businessman.py:64: AssertionError","steps":[{"name":"Авторизация в системе","time":{"start":1730314742746,"stop":1730314751915,"duration":9169},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка авторизации","time":{"start":1730314751915,"stop":1730314751925,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Открытие формы для создания нового ИП.","time":{"start":1730314751925,"stop":1730314753224,"duration":1299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка, что форма для создания нового ИП открылась.","time":{"start":1730314753224,"stop":1730314753226,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Добавление данных в форму.","time":{"start":1730314753226,"stop":1730314765036,"duration":11810},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Сохранение добавленных данных.","time":{"start":1730314765039,"stop":1730314769070,"duration":4031},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка, что данные в открытой вкладке, принадлежат добавленному клиенту.","time":{"start":1730314769070,"stop":1730314779573,"duration":10503},"status":"failed","statusMessage":"AssertionError: Ошибка, название страницы не совпадает\nassert '' == 'Иван Петрович'\n  - Иван Петрович\n","statusTrace":"  File \"C:\\Users\\denis\\PycharmProjects\\AtolSoft\\tests\\test_add_businessman.py\", line 64, in test_add_businessman\n    assert get_title_page == 'Иван Петрович', 'Ошибка, название страницы не совпадает'\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":7,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1730314779742,"stop":1730314781959,"duration":2217},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"add_businessman"},{"name":"story","value":"Добавление нового ИП в разделе 'клиенты'"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_add_businessman"},{"name":"host","value":"DESKTOP-J7U5TG2"},{"name":"thread","value":"9072-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_add_businessman"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"name","value":"'sf1@gmail.com'"},{"name":"password","value":"'111'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"628b980490b46690.json","parameterValues":["'sf1@gmail.com'","'111'"]}