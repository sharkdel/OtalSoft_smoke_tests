{"uid":"58aa10a61b12930a","name":"test_add_person[positive_password-positive_name]","fullName":"tests.test_add_person#test_add_person","historyId":"bdc3e762d4e316c900d905d3aab065bd","time":{"start":1730314923405,"stop":1730314951429,"duration":28024},"status":"failed","statusMessage":"AssertionError: Ошибка, название страницы не совпадает\nassert '' == 'Иван Петрович'\n  - Иван Петрович","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"ad840862562b49770227828384b917be\")>, name = 'sf1@gmail.com', password = '111'\n\n    @allure.feature('add_person')\n    @allure.story(\"Добавление нового физического лица в разделе 'клиенты'\")\n    @pytest.mark.parametrize('name', [name_user], ids=[\"positive_name\"])\n    @pytest.mark.parametrize('password', [psw_user], ids=[\"positive_password\"])\n    def test_add_person(driver, name, password):\n    \n        # Авторизация в системе с валидными данными\n        with allure.step(\"Авторизация в системе\"):\n            page = AuthPage(driver)\n            page.name.send_keys(name)\n            page.password.send_keys(password)\n            page.btn_input.click()\n            catalog_title = page.title.get_text()\n    \n        # Проверка, что авторизация прошла успешно\n        with allure.step(\"Проверка авторизации\"):\n            assert page.get_current_url() == \"https://sf.leadupcrm.pro/service/clients\", 'Ошибка, URL не совпадают'\n            print('\\n', \"URL корректа\")\n            assert catalog_title == 'Клиенты', 'Название раздела не совпадает'\n            print(catalog_title, '== Клиенты')\n            print(\"Авторизация прошла успешно\")\n    \n        #Создание нового юридического лица\n        with allure.step(\"Открытие формы для создания нового юридического лица.\"):\n            page.btn_plus.click()\n            page.btn_icon_individual.click()\n            current_form_title = page.form_title.get_text()\n        with allure.step(\"Проверка, что форма для добавления нового физического лица открылась.\"):\n            print([current_form_title])\n            assert current_form_title == 'Новое физическое лицо', 'Ошибка, название формы не совпадает'\n        with allure.step(\"Добавление данных в форму.\"):\n            page.fio_field.click()\n            page.fio_field.send_keys('Иван Петрович')\n        main_tab = driver.current_window_handle\n        print(main_tab)\n        with allure.step(\"Сохранение добавленных данных.\"):\n            page.btn_save.click()\n            page.wait_page_loaded(5)\n            page.fio_field.highlight_and_make_screenshot(\"../screen/add_person_screen1.png\")\n            list_of_tabs = driver.window_handles\n            print(list_of_tabs)\n            second_tab = driver.current_window_handle\n            print(second_tab)\n            #driver.switch_to.window(list_of_tabs[1])  # Подставит дескриптор по индексу 1, т.е второй элемент списка\n    \n        with allure.step(\"Проверка, что данные в открытой вкладке, принадлежат добавленному клиенту.\"):\n            #page.title_page.highlight_and_make_screenshot(\"../screen/add_person_screen2.png\")\n            get_title_page = page.title_page.get_text()\n            #print(get_title_page, 0)\n>           assert get_title_page == 'Иван Петрович', 'Ошибка, название страницы не совпадает'\nE           AssertionError: Ошибка, название страницы не совпадает\nE           assert '' == 'Иван Петрович'\nE             - Иван Петрович\n\ntests\\test_add_person.py:56: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1730314738720,"stop":1730314738720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"sensitive_url","time":{"start":1730314738721,"stop":1730314738721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1730314738721,"stop":1730314738721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"_skip_sensitive","time":{"start":1730314920215,"stop":1730314920216,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"driver","time":{"start":1730314920216,"stop":1730314923403,"duration":3187},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Ошибка, название страницы не совпадает\nassert '' == 'Иван Петрович'\n  - Иван Петрович","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"ad840862562b49770227828384b917be\")>, name = 'sf1@gmail.com', password = '111'\n\n    @allure.feature('add_person')\n    @allure.story(\"Добавление нового физического лица в разделе 'клиенты'\")\n    @pytest.mark.parametrize('name', [name_user], ids=[\"positive_name\"])\n    @pytest.mark.parametrize('password', [psw_user], ids=[\"positive_password\"])\n    def test_add_person(driver, name, password):\n    \n        # Авторизация в системе с валидными данными\n        with allure.step(\"Авторизация в системе\"):\n            page = AuthPage(driver)\n            page.name.send_keys(name)\n            page.password.send_keys(password)\n            page.btn_input.click()\n            catalog_title = page.title.get_text()\n    \n        # Проверка, что авторизация прошла успешно\n        with allure.step(\"Проверка авторизации\"):\n            assert page.get_current_url() == \"https://sf.leadupcrm.pro/service/clients\", 'Ошибка, URL не совпадают'\n            print('\\n', \"URL корректа\")\n            assert catalog_title == 'Клиенты', 'Название раздела не совпадает'\n            print(catalog_title, '== Клиенты')\n            print(\"Авторизация прошла успешно\")\n    \n        #Создание нового юридического лица\n        with allure.step(\"Открытие формы для создания нового юридического лица.\"):\n            page.btn_plus.click()\n            page.btn_icon_individual.click()\n            current_form_title = page.form_title.get_text()\n        with allure.step(\"Проверка, что форма для добавления нового физического лица открылась.\"):\n            print([current_form_title])\n            assert current_form_title == 'Новое физическое лицо', 'Ошибка, название формы не совпадает'\n        with allure.step(\"Добавление данных в форму.\"):\n            page.fio_field.click()\n            page.fio_field.send_keys('Иван Петрович')\n        main_tab = driver.current_window_handle\n        print(main_tab)\n        with allure.step(\"Сохранение добавленных данных.\"):\n            page.btn_save.click()\n            page.wait_page_loaded(5)\n            page.fio_field.highlight_and_make_screenshot(\"../screen/add_person_screen1.png\")\n            list_of_tabs = driver.window_handles\n            print(list_of_tabs)\n            second_tab = driver.current_window_handle\n            print(second_tab)\n            #driver.switch_to.window(list_of_tabs[1])  # Подставит дескриптор по индексу 1, т.е второй элемент списка\n    \n        with allure.step(\"Проверка, что данные в открытой вкладке, принадлежат добавленному клиенту.\"):\n            #page.title_page.highlight_and_make_screenshot(\"../screen/add_person_screen2.png\")\n            get_title_page = page.title_page.get_text()\n            #print(get_title_page, 0)\n>           assert get_title_page == 'Иван Петрович', 'Ошибка, название страницы не совпадает'\nE           AssertionError: Ошибка, название страницы не совпадает\nE           assert '' == 'Иван Петрович'\nE             - Иван Петрович\n\ntests\\test_add_person.py:56: AssertionError","steps":[{"name":"Авторизация в системе","time":{"start":1730314923405,"stop":1730314932942,"duration":9537},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка авторизации","time":{"start":1730314932942,"stop":1730314932947,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Открытие формы для создания нового юридического лица.","time":{"start":1730314932948,"stop":1730314934280,"duration":1332},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка, что форма для добавления нового физического лица открылась.","time":{"start":1730314934280,"stop":1730314934281,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Добавление данных в форму.","time":{"start":1730314934281,"stop":1730314937063,"duration":2782},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Сохранение добавленных данных.","time":{"start":1730314937066,"stop":1730314940973,"duration":3907},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка, что данные в открытой вкладке, принадлежат добавленному клиенту.","time":{"start":1730314940973,"stop":1730314951426,"duration":10453},"status":"failed","statusMessage":"AssertionError: Ошибка, название страницы не совпадает\nassert '' == 'Иван Петрович'\n  - Иван Петрович\n","statusTrace":"  File \"C:\\Users\\denis\\PycharmProjects\\AtolSoft\\tests\\test_add_person.py\", line 56, in test_add_person\n    assert get_title_page == 'Иван Петрович', 'Ошибка, название страницы не совпадает'\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":7,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1730314951456,"stop":1730314953723,"duration":2267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"add_person"},{"name":"story","value":"Добавление нового физического лица в разделе 'клиенты'"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_add_person"},{"name":"host","value":"DESKTOP-J7U5TG2"},{"name":"thread","value":"9072-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_add_person"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"name","value":"'sf1@gmail.com'"},{"name":"password","value":"'111'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"58aa10a61b12930a.json","parameterValues":["'sf1@gmail.com'","'111'"]}